import Layout from '../components/Layout'; import { useEffect, useState } from 'react'; import { tradingFlowApi } from '../lib/tradingFlowApi'; export default function Dashboard(){ const [pf,setPf]=useState<any>(); useEffect(()=>{ tradingFlowApi.portfolio().then(setPf).catch(console.error); },[]); return <Layout><h1>Trading Overview</h1><div className='row'><div className='card'><b>Today PnL</b><div className='small'>Equity: ${pf?.equity?.toLocaleString?.() ?? 'â€”'}</div></div><div className='card'><b>Live Status</b><Live/></div></div><div className='card'><b>Positions</b><pre>{JSON.stringify(pf?.positions||[],null,2)}</pre></div><div className='card'><b>History</b><pre>{JSON.stringify(pf?.history||[],null,2)}</pre></div></Layout>; } function Live(){ const [s,setS]=useState<any>(); useEffect(()=>{ tradingFlowApi.liveStatus().then(setS).catch(console.error); },[]); return <div className='small'>{s?.enabled?'ENABLED':'DISABLED'}</div>; }